<!-- üîê Login Component Template - BinFawzi Store -->
<div class="auth-container">
  <div class="auth-card">
    
    <!-- üì∏ Logo Section (Testing Both Options) -->
    <div class="logo-area">
      <!-- Option 1: Circle BF Logo -->
      <img src="assets/images/logo-circle.png" alt="BinFawzi Store" class="auth-logo">
    </div>

    <!-- üìù Form Header -->
    <div class="form-header">
      <h1 class="form-title">{{ 'auth.login.title' | translate }}</h1>
      <p class="form-subtitle">{{ 'auth.login.subtitle' | translate }}</p>
    </div>

    <!-- ‚ö†Ô∏è Error Message Display -->
    <div class="error-message" *ngIf="errorMessage" role="alert">
      <div class="error-content">
        <span class="error-icon">‚ö†Ô∏è</span>
        <span class="error-text">{{ errorMessage }}</span>
      </div>
    </div>

    <!-- üìù Login Form -->
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="auth-form" novalidate>
      
      <!-- üë§ Username Field -->
      <div class="form-group">
        <label for="username" class="form-label">{{ 'auth.fields.username.label' | translate }}</label>
        <div class="input-wrapper">
          <input
            id="username"
            type="text"
            formControlName="username"
            class="form-input"
            [class.input-error]="isFieldError('username')"
            [class.input-success]="isFieldValid('username')"
            [placeholder]="'auth.fields.username.placeholder' | translate"
            autocomplete="username"
            [attr.aria-describedby]="isFieldError('username') ? 'username-error' : null"
          >
        </div>
        <!-- Field Error Message -->
        <div 
          id="username-error" 
          class="field-error" 
          *ngIf="isFieldError('username')"
          role="alert"
        >
          {{ getFieldError('username') }}
        </div>
      </div>

      <!-- üîí Password Field -->
      <div class="form-group">
        <label for="password" class="form-label">{{ 'auth.fields.password.label' | translate }}</label>
        <div class="input-wrapper">
          <input
            id="password"
            [type]="showPassword ? 'text' : 'password'"
            formControlName="password"
            class="form-input"
            [class.input-error]="isFieldError('password')"
            [class.input-success]="isFieldValid('password')"
            [placeholder]="'auth.fields.password.placeholder' | translate"
            autocomplete="current-password"
            [attr.aria-describedby]="isFieldError('password') ? 'password-error' : null"
          >
          <div class="input-icon">
            <button
              type="button"
              class="toggle-password"
              (click)="togglePasswordVisibility()"
              [attr.aria-label]="showPassword ? 'Hide password' : 'Show password'"
            >
            </button>
          </div>
        </div>
        <!-- Field Error Message -->
        <div 
          id="password-error" 
          class="field-error" 
          *ngIf="isFieldError('password')"
          role="alert"
        >
          {{ getFieldError('password') }}
        </div>
      </div>

      <!-- ‚òëÔ∏è Remember Me Checkbox -->
      <div class="form-group checkbox-group">
        <label class="checkbox-label">
          <input
            type="checkbox"
            formControlName="rememberMe"
            class="checkbox-input"
          >
          <span class="checkbox-custom"></span>
          <span class="checkbox-text">{{ 'auth.login.rememberMe' | translate }}</span>
        </label>
      </div>

      <!-- üöÄ Submit Button -->
      <button
        type="submit"
        class="submit-button"
        [disabled]="loginForm.invalid || isLoading"
        [class.loading]="isLoading"
      >
        <span class="button-content" *ngIf="!isLoading">
          <span class="button-text">{{ 'auth.login.signIn' | translate }}</span>
        </span>
        <span class="button-content" *ngIf="isLoading">
          <span class="loading-spinner"></span>
          <span class="button-text">{{ 'auth.login.signingIn' | translate }}</span>
        </span>
      </button>

    </form>

    <!-- üîó Navigation Links -->
    <div class="auth-links">
      <br>
      <div class="signup-text">
        <span class="divider-text">{{ 'auth.login.noAccount' | translate }}</span>
        <a routerLink="/auth/signup" class="switch-link">{{ 'auth.login.createAccount' | translate }}</a>
      </div>
    </div>

  </div>
</div>